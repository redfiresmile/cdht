webpackJsonp([35],{261:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(488),s=i.n(a);for(var d in a)"default"!==d&&function(e){i.d(t,e,function(){return a[e]})}(d);var n=i(877),o=i.n(n),r=i(3),l=r(s.a,o.a,!1,null,null,null);l.options.__file="src/views/privileges/permissions/list.vue",t.default=l.exports},488:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(26),s=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={data:function(){var e=this;return{modalHeadImage:{show:!1,url:null},loading:!1,search:{name:null},addEditPermissionModal:{show:!1,saveLoading:!1},ruleAddEditPermission:{name:[{required:!0,message:"请填写权限名称",trigger:"blur"}],guard_name:[{required:!0,message:"请填写看守器",trigger:"blur"}]},addEditPermissionForm:{id:0,name:"",guard_name:"",description:""},dataList:[],columns:[{title:"ID",key:"id",sortable:!0,width:100},{title:"权限名称",key:"name"},{title:"看守器",key:"guard_name"},{title:"权限描述",key:"description"},{title:"创建时间",key:"created_at",sortable:!0},{title:"更新时间",key:"created_at"},{title:"操作",render:function(t,i){var a=e;return t("div",[t("Button",{props:{type:"success",size:"small"},on:{click:function(){a.addEditPermissionForm=a.dataList[i.index],a.addEditPermissionModal.show=!0}}},"Edit"),t("Poptip",{props:{confirm:!0,title:"您确定要删除「"+i.row.name+"」权限？",transfer:!0},on:{"on-ok":function(){a.deleteBtn(i.row.id,i.index)}}},[t("Button",{style:{margin:"0 5px"},props:{type:"error",size:"small",placement:"top"}},"删除")])])}}]}},created:function(){this.getList()},methods:{cleanModal:function(){this.addEditPermissionForm={id:0,name:"",guard_name:"",description:""}},handleSubmit:function(){var e=this;e.$refs.addEditPermissionForm.validate(function(t){t&&(e.addEditPermissionModal.saveLoading=!0,e.$util.ajax.post("/admin/permissions",e.addEditPermissionForm).then(function(t){var i=t.data;e.$Notice.success({title:i.message}),e.getList(),e.addEditPermissionModal.saveLoading=!1,e.addEditPermissionModal.show=!1},function(t){e.$Notice.warning({title:"出错了",desc:t.message}),e.addEditPermissionModal.saveLoading=!1}))})},cancelEditPass:function(){var e=this;e.addEditPermissionModal.show=!1,e.addEditPermissionModal.saveLoading=!1,e.cleanModal()},addBtn:function(){this.cleanModal(),this.addEditPermissionModal.show=!0},getList:function(){var e=this;e.loading=!0,e.$util.ajax.get("/admin/permissions?search_data="+(0,s.default)(e.search)).then(function(t){var i=t.data;e.dataList=i.data,e.loading=!1},function(t){e.$Notice.warning({title:"出错了",desc:t.message}),e.loading=!1})},deleteBtn:function(e,t){var i=this;i.$util.ajax.delete("/admin/permissions/"+e).then(function(e){var a=e.data;i.dataList.splice(t,1),i.$Notice.success({title:a.message})},function(e){i.$Notice.warning({title:"出错了",desc:e.message})})}}}},877:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"privileges-users-list"}},[i("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"end",gutter:16}},[i("Col",{attrs:{span:"3"}},[i("Input",{attrs:{icon:"search",placeholder:"请输入权限名称..."},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),i("Col",{attrs:{span:"2"}},[i("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(t){e.getList()}}},[e._v("Search")])],1),e._v(" "),i("Col",{attrs:{span:"2"}},[i("Button",{attrs:{type:"success",icon:"plus"},on:{click:function(t){e.addBtn()}}},[e._v("Add")])],1)],1),e._v(" "),i("br"),e._v(" "),i("Row",[i("Table",{attrs:{border:"",columns:e.columns,data:e.dataList,loading:e.loading}})],1),e._v(" "),i("Modal",{attrs:{closable:!1,"mask-closable":!1,width:500},model:{value:e.addEditPermissionModal.show,callback:function(t){e.$set(e.addEditPermissionModal,"show",t)},expression:"addEditPermissionModal.show"}},[i("h3",{staticStyle:{color:"#2D8CF0"},attrs:{slot:"header"},slot:"header"},[e._v("编辑权限")]),e._v(" "),i("Form",{ref:"addEditPermissionForm",attrs:{model:e.addEditPermissionForm,"label-width":100,"label-position":"right",rules:e.ruleAddEditPermission}},[i("FormItem",{attrs:{label:"权限名称",prop:"name"}},[i("Input",{attrs:{placeholder:"请输入权限名称"},model:{value:e.addEditPermissionForm.name,callback:function(t){e.$set(e.addEditPermissionForm,"name",t)},expression:"addEditPermissionForm.name"}})],1),e._v(" "),i("FormItem",{attrs:{label:"看守器",prop:"guard_name"}},[i("Input",{attrs:{placeholder:"请输入看守器"},model:{value:e.addEditPermissionForm.guard_name,callback:function(t){e.$set(e.addEditPermissionForm,"guard_name",t)},expression:"addEditPermissionForm.guard_name"}})],1),e._v(" "),i("FormItem",{attrs:{label:"权限描述",prop:"description"}},[i("Input",{attrs:{placeholder:"请输入权限描述"},model:{value:e.addEditPermissionForm.description,callback:function(t){e.$set(e.addEditPermissionForm,"description",t)},expression:"addEditPermissionForm.description"}})],1)],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"text"},on:{click:e.cancelEditPass}},[e._v("取消")]),e._v(" "),i("Button",{attrs:{type:"primary",loading:e.addEditPermissionModal.saveLoading},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)],1)},s=[];a._withStripped=!0;var d={render:a,staticRenderFns:s};t.default=d}});